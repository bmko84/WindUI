-- üåÄ BmEGOno1 Hub ‚Äî Part 1
-- UI + Simple ESP + Infinite Stamina + High Jump

-- LOAD UI
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/bmko84/WindUI/refs/heads/main/Block%20spin"))()
local Window = Library:Window({
    Title = "BmEGOno1 Hub",
    Desc = "UI by ‡∏™‡∏∏‡∏î‡∏´‡∏•‡πà‡∏≠‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ò‡∏ô",
    Theme = "Dark",
    Config = { Keybind = Enum.KeyCode.LeftControl }
})

local MainTab = Window:Tab({ Title = "Main", Icon = "star" })
local VisualTab = Window:Tab({ Title = "Visual", Icon = "eye" })
local CheatTab = Window:Tab({ Title = "‡πÇ‡∏Å‡∏á‡πÇ‡∏´‡∏î‡πÜ", Icon = "wrench" })
local AimTab = Window:Tab({ Title = "Aimbot", Icon = "target" })
local CreditsTab = Window:Tab({ Title = "Credits", Icon = "crown" })

MainTab:Label({ Title = "‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö!", Desc = "‡∏Å‡∏î LeftControl ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î UI" })

-- SERVICES
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local LocalPlayer = Players.LocalPlayer

-- CONFIG
getgenv().Infinitestamina = false
local JumpEnabled, JumpPower = false, 120
local SimpleESP_Enabled = true

-- SIMPLE ESP
local playerESPObjects = {}

local function createSimpleESPForPlayer(player)
    if player == LocalPlayer or not player.Character then return end
    if playerESPObjects[player] then
        for _, o in ipairs(playerESPObjects[player]) do if o and o.Parent then o:Destroy() end end
    end
    playerESPObjects[player] = {}
    local char = player.Character
    local head = char:FindFirstChild("Head")
    if not head then return end
    local highlight = Instance.new("Highlight")
    highlight.Adornee = char
    highlight.FillTransparency = 0.7
    highlight.OutlineTransparency = 0
    highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
    highlight.FillColor = (player.Team and player.Team.Name == "Killer") and Color3.fromRGB(255,0,0) or Color3.fromRGB(0,255,0)
    highlight.Parent = Workspace
    table.insert(playerESPObjects[player], highlight)
end

Players.PlayerAdded:Connect(function(p)
    p.CharacterAdded:Connect(function() task.wait(0.5) if SimpleESP_Enabled then createSimpleESPForPlayer(p) end end)
    if SimpleESP_Enabled then createSimpleESPForPlayer(p) end
end)
Players.PlayerRemoving:Connect(function(p)
    if playerESPObjects[p] then
        for _, o in ipairs(playerESPObjects[p]) do if o and o.Parent then o:Destroy() end end
        playerESPObjects[p] = nil
    end
end)

-- INFINITE STAMINA
pcall(function()
    local successSprint, SprintModule = pcall(function() return require(ReplicatedStorage.Modules.Game.Sprint) end)
    if successSprint and type(SprintModule)=="table" and SprintModule.consume_stamina then
        local consume_stamina = SprintModule.consume_stamina
        local ok, SprintBar = pcall(function() return debug.getupvalue(consume_stamina, 2).sprint_bar end)
        if ok and SprintBar and type(SprintBar.update)=="function" then
            local OldSprintUpdate
            OldSprintUpdate = hookfunction(SprintBar.update, function(...)
                if getgenv().Infinitestamina then return OldSprintUpdate(function() return 1 end) else return OldSprintUpdate(...) end
            end)
        end
    end
end)

-- HIGH JUMP
RunService.RenderStepped:Connect(function()
    if JumpEnabled and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
        LocalPlayer.Character.Humanoid.JumpPower = JumpPower
    end
end)-- üåÄ BmEGOno1 Hub ‚Äî Part 2
-- Item ESP

local ContentProvider = game:GetService("ContentProvider")
local ItemESP_Enabled = true
local BillboardCache = {}
local ItemESP_UpdateConnections = {}
local WeaponDB = {}
local PreloadedImages = {}
local RARITY_COLORS = {
    ["Common"]=Color3.fromRGB(255,255,255),
    ["Uncommon"]=Color3.fromRGB(99,255,52),
    ["Rare"]=Color3.fromRGB(51,170,255),
    ["Epic"]=Color3.fromRGB(237,44,255),
    ["Legendary"]=Color3.fromRGB(255,150,0),
    ["Omega"]=Color3.fromRGB(255,20,51),
}

local function generateUniqueKey(tool)
    if not tool or not tool:IsA("Tool") then return nil end
    local itemId = tool:GetAttribute("ItemId") or tool:GetAttribute("Id")
    if itemId and itemId ~= "" then return "ITEMID_"..tostring(itemId) end
    local partsData = {}
    for _, part in ipairs(tool:GetDescendants()) do
        if part:IsA("SpecialMesh") and part.MeshId ~= "" then
            table.insert(partsData, "MESH_"..part.MeshId.."|TEX_"..(part.TextureId or "NOTEX"))
        elseif part:IsA("MeshPart") and part.MeshId ~= "" then
            table.insert(partsData, "MESH_"..part.MeshId.."|TEX_"..(part.TextureID or "NOTEX"))
        elseif part:IsA("Decal") and part.Texture and part.Texture ~= "" then
            table.insert(partsData, "DECAL_"..part.Texture)
        elseif part:IsA("Part") then
            table.insert(partsData, "PART_"..part.Name.."_"..part.Size.X.."x"..part.Size.Y.."x"..part.Size.Z)
        end
    end
    if #partsData > 0 then
        table.sort(partsData)
        return "MESHKEY_"..table.concat(partsData,";")
    end
    local displayName = tool:GetAttribute("DisplayName") or tool.Name
    local rarity = tool:GetAttribute("RarityName") or tool:GetAttribute("Rarity") or "Common"
    local imageId = tool:GetAttribute("ImageId") or "NOIMAGE"
    return "NAME_"..displayName.."_"..tool.Name.."_"..rarity.."_"..imageId
end

local function registerItems(folder)
    for _, tool in ipairs(folder:GetDescendants()) do
        if not tool:IsA("Tool") then continue end
        local key = generateUniqueKey(tool)
        if not key then continue end
        local displayName = tool:GetAttribute("DisplayName") or tool.Name
        local imageId = tool:GetAttribute("ImageId") or "rbxassetid://7072725737"
        local rarity = tool:GetAttribute("RarityName") or tool:GetAttribute("Rarity") or "Common"
        WeaponDB[key] = {Name=displayName,Rarity=rarity,ImageId=imageId,ToolName=tool.Name,Key=key}
        if imageId and imageId ~= "" and not PreloadedImages[imageId] then
            PreloadedImages[imageId] = true
            task.spawn(function() pcall(function() ContentProvider:PreloadAsync({imageId}) end) end)
        end
    end
end

pcall(function()
    local itemsFolder = ReplicatedStorage:WaitForChild("Items",5)
    if itemsFolder then registerItems(itemsFolder) end
    for _, obj in ipairs(ReplicatedStorage:GetChildren()) do
        if obj:IsA("Folder") and (obj.Name:find("Weapon") or obj.Name:find("Item") or obj.Name:find("Tool")) then
            registerItems(obj)
        end
    end
    registerItems(game:GetService("StarterPack"))
end)

local function getWeaponInfo(tool)
    if not tool or not tool:IsA("Tool") then return nil end
    local key = generateUniqueKey(tool)
    return WeaponDB[key]
end

local function createBillboardForPlayer(player)
    if player == game.Players.LocalPlayer or BillboardCache[player] then return end
    local billboard, container, connections = nil, nil, {}

    local function updateESP()
        if not ItemESP_Enabled or not billboard.Parent then return end
        container:ClearAllChildren()
        local layout = Instance.new("UIGridLayout")
        layout.CellSize = UDim2.new(0,35,0,35)
        layout.CellPadding = UDim2.new(0,6,0,0)
        layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        layout.VerticalAlignment = Enum.VerticalAlignment.Center
        layout.SortOrder = Enum.SortOrder.LayoutOrder
        layout.Parent = container

        local currentTools = {}
        local function scan(folder)
            if not folder then return end
            for _, tool in ipairs(folder:GetChildren()) do
                if tool:IsA("Tool") and tool.Name ~= "Fists" then
                    local info = getWeaponInfo(tool)
                    if info then table.insert(currentTools, info) end
                end
            end
        end

        local char = player.Character
        if char then scan(char) end
        local backpack = player:FindFirstChild("Backpack")
        if backpack then scan(backpack) end

        for i, info in ipairs(currentTools) do
            local img = Instance.new("ImageLabel")
            img.Parent = container
            img.Size = UDim2.new(0,35,0,35)
            img.BackgroundTransparency = 1
            img.Image = info.ImageId or "rbxassetid://7072725737"
            img.ScaleType = Enum.ScaleType.Fit
            img.LayoutOrder = i
            img.ImageColor3 = (RARITY_COLORS[info.Rarity] or Color3.fromRGB(255,255,255)):Lerp(Color3.new(1,1,1),0.35)
        end
    end

    local function setupBillboard()
        local char = player.Character
        if not char then return end
        local hrp = char:FindFirstChild("HumanoidRootPart")
        if not hrp then return end
        if BillboardCache[player] then BillboardCache[player]:Destroy() end
        for _, conn in pairs(connections) do if conn.Connected then conn:Disconnect() end end
        connections = {}

        billboard = Instance.new("BillboardGui")
        billboard.Name = "ItemESP"
        billboard.Adornee = hrp
        billboard.Size = UDim2.new(0,280,0,40)
        billboard.StudsOffset = Vector3.new(0,-6.5,0)
        billboard.AlwaysOnTop = true
        billboard.LightInfluence = 0
        billboard.Parent = hrp

        container = Instance.new("Frame",billboard)
        container.Size = UDim2.new(1,0,1,0)
        container.BackgroundTransparency = 1
        BillboardCache[player] = billboard
        updateESP()
        local backpack = player:FindFirstChild("Backpack")
        if backpack then
            table.insert(connections, backpack.ChildAdded:Connect(updateESP))
            table.insert(connections, backpack.ChildRemoved:Connect(updateESP))
        end
        table.insert(connections, char.ChildAdded:Connect(function(child) if child:IsA("Tool") then task.defer(updateESP) end end))
        table.insert(connections, char.ChildRemoved:Connect(function(child) if child:IsA("Tool") then task.defer(updateESP) end end))
    end

    if player.Character then task.spawn(setupBillboard) end
    table.insert(connections, player.CharacterAdded:Connect(function() task.wait(1) setupBillboard() end))
    ItemESP_UpdateConnections[player] = connections
end

for _, p in ipairs(Players:GetPlayers()) do if p ~= game.Players.LocalPlayer then createBillboardForPlayer(p) end end
Players.PlayerAdded:Connect(function(p) if p ~= game.Players.LocalPlayer then createBillboardForPlayer(p) end end)
Players.PlayerRemoving:Connect(function(p)
    if BillboardCache[p] then BillboardCache[p]:Destroy() BillboardCache[p] = nil end
    if ItemESP_UpdateConnections[p] then
        for _, conn in pairs(ItemESP_UpdateConnections[p]) do if conn.Connected then conn:Disconnect() end end
        ItemESP_UpdateConnections[p] = nil
    end
end)------------------------------
-- üî• PART 3 : AIM SYSTEM
------------------------------

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera
local LocalPlayer = Players.LocalPlayer

-- ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏¥‡∏î
getgenv().Aimbot_Enabled = false
getgenv().SilentAim_Enabled = false
getgenv().Tracer_Enabled = false
getgenv().FOV_Enabled = true

-- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ FOV
local FOV = 180
local FOV_Circle = Drawing.new("Circle")
FOV_Circle.Radius = FOV
FOV_Circle.Color = Color3.fromRGB(255,255,0)
FOV_Circle.Thickness = 2
FOV_Circle.NumSides = 64
FOV_Circle.Filled = false
FOV_Circle.Visible = getgenv().FOV_Enabled

-- ‡∏´‡∏≤‡∏ï‡∏±‡∏ß‡πÉ‡∏Å‡∏•‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô FOV
local function GetClosest()
    local target, distance = nil, math.huge
    local mousePos = UserInputService:GetMouseLocation()

    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= LocalPlayer and plr.Character and plr.Character:FindFirstChild("Head") then
            local pos, onScreen = Camera:WorldToViewportPoint(plr.Character.Head.Position)
            if onScreen then
                local mag = (Vector2.new(pos.X, pos.Y) - mousePos).Magnitude
                if mag < distance and mag < FOV then
                    distance = mag
                    target = plr
                end
            end
        end
    end

    return target
end

---------------------------------------------
-- ‚≠ê Aimbot (‡∏•‡πá‡∏≠‡∏Ñ‡πÄ‡∏°‡πâ‡∏≤‡∏™‡πå)
---------------------------------------------
local holding = false

UserInputService.InputBegan:Connect(function(key)
    if key.UserInputType == Enum.UserInputType.MouseButton2 then
        holding = true
    end
end)

UserInputService.InputEnded:Connect(function(key)
    if key.UserInputType == Enum.UserInputType.MouseButton2 then
        holding = false
    end
end)

RunService.RenderStepped:Connect(function()
    -- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï FOV
    local mouse = UserInputService:GetMouseLocation()
    FOV_Circle.Position = mouse
    FOV_Circle.Visible = getgenv().FOV_Enabled

    if getgenv().Aimbot_Enabled and holding then
        local target = GetClosest()
        if target and target.Character and target.Character:FindFirstChild("Head") then
            local pos = target.Character.Head.Position
            Camera.CFrame = CFrame.new(Camera.CFrame.Position, pos)
        end
    end
end)

---------------------------------------------
-- ‚≠ê Silent Aim
---------------------------------------------
local old; old = hookmetamethod(game, "__namecall", function(self, ...)
    local args = {...}
    local method = getnamecallmethod()

    if getgenv().SilentAim_Enabled and tostring(method) == "FireServer" then
        local target = GetClosest()
        if target and target.Character and target.Character:FindFirstChild("Head") then
            args[2] = target.Character.Head.Position
            return old(self, unpack(args))
        end
    end

    return old(self, ...)
end)

---------------------------------------------
-- ‚≠ê Tracer Lines
---------------------------------------------
local tracers = {}

RunService.RenderStepped:Connect(function()
    if not getgenv().Tracer_Enabled then
        for _, t in pairs(tracers) do t.Visible = false end
        return
    end

    local mouse = UserInputService:GetMouseLocation()

    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= LocalPlayer and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
            local pos, onScreen = Camera:WorldToViewportPoint(plr.Character.HumanoidRootPart.Position)

            -- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏™‡πâ‡∏ô‡πÉ‡∏´‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á
            if not tracers[plr] then
                local line = Drawing.new("Line")
                line.Color = Color3.fromRGB(255,0,0)
                line.Thickness = 1.5
                line.Transparency = 1
                tracers[plr] = line
            end

            if onScreen then
                tracers[plr].From = mouse
                tracers[plr].To = Vector2.new(pos.X, pos.Y)
                tracers[plr].Visible = true
            else
                tracers[plr].Visible = false
            end
        end
    end
end)
